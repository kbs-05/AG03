(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4351:(e,s,r)=>{Promise.resolve().then(r.bind(r,6349))},6349:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>M});var t=r(5155),a=r(7349),i=r(2115),l=r(5317),n=r(8915);async function o(){try{let e=await (0,l.d_)((0,l.P)((0,l.rJ)(n.db,"commandes"))),s=(0,l.rJ)(n.db,"commandes"),r=await (0,l.GG)(s),t=0,a=0;r.forEach(e=>{let s=e.data(),r=s.status;if(r&&"livr\xe9e"===r.toString().toLowerCase()){let e=s.commandetotal||0;t+=Number(e),a++}}),console.log("Revenus commandes livr\xe9es: ".concat(t," XAF (").concat(a," commandes)"));let i=0;try{let e=(0,l.P)((0,l.Cs)(n.db,"produits"));i=(await (0,l.d_)(e)).data().count,console.log("Nombre de produits r\xe9cup\xe9r\xe9s:",i)}catch(e){console.error("Erreur lors du comptage des produits:",e)}let o=await (0,l.d_)((0,l.P)((0,l.rJ)(n.db,"clients")));return{commandes:e.data().count,commandesLivrees:a,produits:i,clients:o.data().count,revenus:t}}catch(e){return console.error("Erreur dans fetchStats:",e),{commandes:0,commandesLivrees:0,produits:0,clients:0,revenus:0}}}let d=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),m=e=>{let s=c(e);return s.charAt(0).toUpperCase()+s.slice(1)},u=function(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return s.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim()},x=e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0};var h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let g=(0,i.forwardRef)((e,s)=>{let{color:r="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:n="",children:o,iconNode:d,...c}=e;return(0,i.createElement)("svg",{ref:s,...h,width:t,height:t,stroke:r,strokeWidth:l?24*Number(a)/Number(t):a,className:u("lucide",n),...!o&&!x(c)&&{"aria-hidden":"true"},...c},[...d.map(e=>{let[s,r]=e;return(0,i.createElement)(s,r)}),...Array.isArray(o)?o:[o]])}),p=(e,s)=>{let r=(0,i.forwardRef)((r,t)=>{let{className:a,...l}=r;return(0,i.createElement)(g,{ref:t,iconNode:s,className:u("lucide-".concat(d(m(e))),"lucide-".concat(e),a),...l})});return r.displayName=m(e),r},j=p("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),b=p("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),v=p("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),f=p("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);function N(e){let{title:s,value:r,icon:a,isLoading:i}=e;return(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50 text-indigo-600",children:a}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:s})]}),i?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-8 w-32 bg-gray-200 rounded-lg animate-pulse"}),(0,t.jsx)("div",{className:"h-4 w-24 bg-gray-100 rounded animate-pulse"})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900 mb-2",children:r})})]})})})}function y(){return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-lg animate-pulse"}),(0,t.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"})]}),(0,t.jsx)("div",{className:"h-8 w-32 bg-gray-200 rounded-lg animate-pulse"}),(0,t.jsx)("div",{className:"h-4 w-24 bg-gray-100 rounded animate-pulse"})]})},e))})}function w(){let[e,s]=(0,i.useState)([{title:"Commandes",value:"...",icon:(0,t.jsx)(j,{className:"w-5 h-5"}),isLoading:!0},{title:"Revenus",value:"...",icon:(0,t.jsx)(b,{className:"w-5 h-5"}),isLoading:!0},{title:"Produits",value:"...",icon:(0,t.jsx)(v,{className:"w-5 h-5"}),isLoading:!0},{title:"Clients",value:"...",icon:(0,t.jsx)(f,{className:"w-5 h-5"}),isLoading:!0}]),[r,a]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{!async function(){try{a(!0);let e=await o();s([{title:"Commandes",value:e.commandes.toLocaleString(),icon:(0,t.jsx)(j,{className:"w-5 h-5"}),isLoading:!1},{title:"Revenus",value:"".concat((e.revenus/1e3).toFixed(1),"k XAF"),icon:(0,t.jsx)(b,{className:"w-5 h-5"}),isLoading:!1},{title:"Produits",value:e.produits.toLocaleString(),icon:(0,t.jsx)(v,{className:"w-5 h-5"}),isLoading:!1},{title:"Clients",value:e.clients.toLocaleString(),icon:(0,t.jsx)(f,{className:"w-5 h-5"}),isLoading:!1}])}catch(e){console.error("Erreur lors du chargement des stats:",e),s(e=>e.map(e=>({...e,value:"Erreur",isLoading:!1})))}finally{a(!1)}}()},[]),r)?(0,t.jsx)(y,{}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e,s)=>(0,t.jsx)(N,{...e},s))})}var k=r(5695);let C={add:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),database:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),promotion:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})};function L(e){let{title:s,buttonText:r,buttonColor:a,icon:i,isLoading:l,description:n,onClick:o}=e;return(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:shadow-lg transition-all duration-200 cursor-pointer",onClick:o,children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-5",children:[(0,t.jsx)("div",{className:"p-3 rounded-lg ".concat(a.replace("600","100")),children:(0,t.jsx)("div",{className:a.replace("bg-","text-").replace("600","600"),children:i})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s}),n&&(0,t.jsx)("p",{className:"text-sm text-gray-500",children:n})]})]}),(0,t.jsx)("button",{disabled:l,className:"w-full ".concat(a," text-white py-3 px-4 rounded-lg font-medium mt-auto flex items-center justify-center gap-2 ").concat(l?"opacity-70 cursor-not-allowed":"hover:opacity-90"),children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Chargement..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:r}),(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})})}function A(){let e=(0,k.useRouter)(),[s,r]=(0,i.useState)(null),a=[{id:"add",title:"Ajouter Produit",buttonText:"Nouveau",buttonColor:"bg-green-600",icon:C.add,description:"Ajouter un produit",path:"/ajouter-produit"},{id:"stock",title:"G\xe9rer Stock",buttonText:"Voir Stock",buttonColor:"bg-blue-600",icon:C.database,description:"G\xe9rer l'inventaire",path:"/produits"},{id:"promo",title:"Promotions",buttonText:"Cr\xe9er",buttonColor:"bg-orange-600",icon:C.promotion,description:"Cr\xe9er promotion",path:"/promotions"}],l=(s,t)=>{r(t),e.push(s),setTimeout(()=>r(null),1500)};return(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map(e=>(0,t.jsx)(L,{...e,isLoading:s===e.id,onClick:()=>l(e.path,e.id)},e.id))})}function M(){return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,t.jsx)(a.A,{}),(0,t.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,t.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Tableau de bord"}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(w,{})}),(0,t.jsx)("div",{className:"mt-8",children:(0,t.jsx)(A,{})})]})})})]})}},7349:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var t=r(5155),a=r(2115),i=r(6874),l=r.n(i),n=r(5695);function o(){let e=(0,n.usePathname)(),[s,r]=(0,a.useState)("dashboard"),[i,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{"/"===e?r("dashboard"):e.startsWith("/produits")?r("produits"):e.startsWith("/clients")?r("clients"):e.startsWith("/commandes")?r("commandes"):e.startsWith("/livreurs")&&r("livreurs")},[e]),(0,t.jsxs)("div",{className:"bg-gradient-to-b from-gray-900 to-gray-800 text-white h-screen flex flex-col transition-all duration-300 ".concat(i?"w-20":"w-64"),children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-700 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 ".concat(i?"justify-center w-full":""),children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,t.jsx)("i",{className:"ri-leaf-line text-white text-xl"})}),!i&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-lg font-bold tracking-tight",children:"Agri-Gabon"}),(0,t.jsx)("span",{className:"text-xs text-green-300 font-medium",children:"Administration"})]})]}),(0,t.jsx)("button",{onClick:()=>o(!i),className:"p-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors","aria-label":i?"Agrandir le menu":"R\xe9duire le menu",children:(0,t.jsx)("i",{className:"ri-".concat(i?"menu-unfold":"menu-fold","-line text-lg")})})]}),(0,t.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,t.jsxs)("div",{className:"flex items-center ".concat(i?"justify-center":"space-x-3"),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-lg",children:(0,t.jsx)("i",{className:"ri-user-3-line text-white text-xl"})}),(0,t.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-gray-900 rounded-full"})]}),!i&&(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:"Bienvenue"}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-900/30 text-green-300 rounded-full",children:"En ligne"}),(0,t.jsx)("span",{className:"text-xs text-gray-400 ml-2",children:"Admin"})]})]})]})}),(0,t.jsx)("nav",{className:"mt-6 flex-1 px-3",children:(0,t.jsx)("div",{className:"space-y-1",children:[{id:"dashboard",label:"Dashboard",icon:"ri-dashboard-line",href:"/"},{id:"produits",label:"Produits",icon:"ri-product-hunt-line",href:"/produits"},{id:"clients",label:"Clients",icon:"ri-team-line",href:"/clients"},{id:"commandes",label:"Commandes",icon:"ri-shopping-cart-line",href:"/commandes"},{id:"livreurs",label:"Livreurs",icon:"ri-truck-line",href:"/livreurs"}].map(e=>(0,t.jsxs)(l(),{href:e.href,className:"flex items-center rounded-xl transition-all duration-200 group ".concat(i?"justify-center px-3 py-3":"px-4 py-3"," ").concat(s===e.id?"bg-gradient-to-r from-green-600/20 to-emerald-600/10 text-green-300 border-l-4 border-green-500":"text-gray-300 hover:bg-gray-800/50 hover:text-white"),onClick:()=>r(e.id),title:i?e.label:"",children:[(0,t.jsxs)("div",{className:"relative ".concat(i?"":"mr-3"),children:[(0,t.jsx)("i",{className:"".concat(e.icon," text-lg ").concat(s===e.id?"text-green-400":"text-gray-400 group-hover:text-white")}),s===e.id&&(0,t.jsx)("div",{className:"absolute -inset-2 bg-green-500/10 rounded-full blur-sm"})]}),!i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"font-medium",children:e.label}),s===e.id&&(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})})]})]},e.id))})}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,t.jsx)("div",{className:"text-center mt-4 ".concat(i?"text-xs":"text-sm"),children:(0,t.jsx)("p",{className:"text-gray-500",children:"\xa9 2025 Agri-Gabon"})})}),(0,t.jsx)("div",{className:"lg:hidden absolute -right-3 top-1/2 transform -translate-y-1/2",children:(0,t.jsx)("button",{onClick:()=>o(!i),className:"w-6 h-10 bg-gray-800 rounded-r-lg flex items-center justify-center border border-gray-700",children:(0,t.jsx)("i",{className:"ri-arrow-".concat(i?"right":"left","-s-line text-gray-400")})})})]})}},8915:(e,s,r)=>{"use strict";r.d(s,{IG:()=>d,db:()=>o,j2:()=>c});var t=r(3915),a=r(5317),i=r(7505),l=r(5404);let n=(0,t.Dk)().length?(0,t.Dk)()[0]:(0,t.Wp)({apiKey:"AIzaSyAYRMKz-rdcDJ9_wSC4GPJ5Nr9JGHNf98s",authDomain:"ag02-9e907.firebaseapp.com",projectId:"ag02-9e907",storageBucket:"ag02-9e907.firebasestorage.app",messagingSenderId:"646527347928",appId:"1:646527347928:web:dca6972379e7f72027bbad",measurementId:"G-8MX1LYCXS6"}),o=(0,a.aU)(n),d=(0,i.c7)(n),c=(0,l.xI)(n)}},e=>{var s=s=>e(e.s=s);e.O(0,[135,965,29,441,684,358],()=>s(4351)),_N_E=e.O()}]);