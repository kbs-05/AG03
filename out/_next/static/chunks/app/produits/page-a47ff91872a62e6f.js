(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{7349:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var r=t(5155),a=t(2115),l=t(6874),i=t.n(l),n=t(5695);function d(){let e=(0,n.usePathname)(),[s,t]=(0,a.useState)("dashboard"),[l,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{"/"===e?t("dashboard"):e.startsWith("/produits")?t("produits"):e.startsWith("/clients")?t("clients"):e.startsWith("/commandes")?t("commandes"):e.startsWith("/livreurs")&&t("livreurs")},[e]),(0,r.jsxs)("div",{className:"bg-gradient-to-b from-gray-900 to-gray-800 text-white h-screen flex flex-col transition-all duration-300 ".concat(l?"w-20":"w-64"),children:[(0,r.jsxs)("div",{className:"p-6 border-b border-gray-700 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 ".concat(l?"justify-center w-full":""),children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:(0,r.jsx)("i",{className:"ri-leaf-line text-white text-xl"})}),!l&&(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-lg font-bold tracking-tight",children:"Agri-Gabon"}),(0,r.jsx)("span",{className:"text-xs text-green-300 font-medium",children:"Administration"})]})]}),(0,r.jsx)("button",{onClick:()=>d(!l),className:"p-1.5 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors","aria-label":l?"Agrandir le menu":"R\xe9duire le menu",children:(0,r.jsx)("i",{className:"ri-".concat(l?"menu-unfold":"menu-fold","-line text-lg")})})]}),(0,r.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center ".concat(l?"justify-center":"space-x-3"),children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-lg",children:(0,r.jsx)("i",{className:"ri-user-3-line text-white text-xl"})}),(0,r.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-gray-900 rounded-full"})]}),!l&&(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-semibold",children:"Bienvenue"}),(0,r.jsxs)("div",{className:"flex items-center mt-1",children:[(0,r.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-900/30 text-green-300 rounded-full",children:"En ligne"}),(0,r.jsx)("span",{className:"text-xs text-gray-400 ml-2",children:"Admin"})]})]})]})}),(0,r.jsx)("nav",{className:"mt-6 flex-1 px-3",children:(0,r.jsx)("div",{className:"space-y-1",children:[{id:"dashboard",label:"Dashboard",icon:"ri-dashboard-line",href:"/"},{id:"produits",label:"Produits",icon:"ri-product-hunt-line",href:"/produits"},{id:"clients",label:"Clients",icon:"ri-team-line",href:"/clients"},{id:"commandes",label:"Commandes",icon:"ri-shopping-cart-line",href:"/commandes"},{id:"livreurs",label:"Livreurs",icon:"ri-truck-line",href:"/livreurs"}].map(e=>(0,r.jsxs)(i(),{href:e.href,className:"flex items-center rounded-xl transition-all duration-200 group ".concat(l?"justify-center px-3 py-3":"px-4 py-3"," ").concat(s===e.id?"bg-gradient-to-r from-green-600/20 to-emerald-600/10 text-green-300 border-l-4 border-green-500":"text-gray-300 hover:bg-gray-800/50 hover:text-white"),onClick:()=>t(e.id),title:l?e.label:"",children:[(0,r.jsxs)("div",{className:"relative ".concat(l?"":"mr-3"),children:[(0,r.jsx)("i",{className:"".concat(e.icon," text-lg ").concat(s===e.id?"text-green-400":"text-gray-400 group-hover:text-white")}),s===e.id&&(0,r.jsx)("div",{className:"absolute -inset-2 bg-green-500/10 rounded-full blur-sm"})]}),!l&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"font-medium",children:e.label}),s===e.id&&(0,r.jsx)("div",{className:"ml-auto",children:(0,r.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})})]})]},e.id))})}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,r.jsx)("div",{className:"text-center mt-4 ".concat(l?"text-xs":"text-sm"),children:(0,r.jsx)("p",{className:"text-gray-500",children:"\xa9 2025 Agri-Gabon"})})}),(0,r.jsx)("div",{className:"lg:hidden absolute -right-3 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("button",{onClick:()=>d(!l),className:"w-6 h-10 bg-gray-800 rounded-r-lg flex items-center justify-center border border-gray-700",children:(0,r.jsx)("i",{className:"ri-arrow-".concat(l?"right":"left","-s-line text-gray-400")})})})]})}},8175:(e,s,t)=>{Promise.resolve().then(t.bind(t,8668))},8668:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(5155),a=t(2115),l=t(7349),i=t(8915),n=t(5317),d=t(7505);function o(e){let{searchTerm:s,selectedCategory:t,viewMode:l="grid"}=e,[o,c]=(0,a.useState)([]),[x,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)(null),[g,p]=(0,a.useState)(""),[b,j]=(0,a.useState)(0),[f,v]=(0,a.useState)(0),[N,y]=(0,a.useState)(0),[w,k]=(0,a.useState)(""),[C,L]=(0,a.useState)(!0),[S,M]=(0,a.useState)(null),[A,I]=(0,a.useState)(null);(0,a.useEffect)(()=>{u(!0);let e=(0,n.Cs)(i.db,"produits"),s=(0,n.aQ)(e,e=>{let s=[];e.docs.forEach(e=>{let t=e.data(),r=e.ref.path.split("/"),a=r.indexOf("categories")+1,l=r[a];s.push({id:e.id,categoryId:l,...t})});let r=s;"all"!==t&&(r=s.filter(e=>e.categoryId===t)),c(r),u(!1)},e=>{console.error("Erreur produits:",e),u(!1)});return()=>s()},[t]);let H=o.filter(e=>{var t;return(null!=(t=e.nom)?t:"").toLowerCase().includes(s.toLowerCase())}),F=e=>{var s,t,r,a,l,i,n;h(e),p(null!=(s=e.nom)?s:""),j(null!=(t=e.prix)?t:0),v(null!=(r=e.stock)?r:0),y(null!=(a=e.quantity)?a:0),k(null!=(l=e.unite)?l:""),L(null==(i=e.published)||i),M(null!=(n=e.discount)?n:null),I(null)},z=async e=>{if(e.id&&e.categoryId&&confirm('Supprimer "'.concat(e.nom,'" ?')))try{await (0,n.kd)((0,n.H9)(i.db,"categories",e.categoryId,"produits",e.id));let s=(0,n.H9)(i.db,"categories",e.categoryId);await (0,n.mZ)(s,{nombreProduits:(0,n.GV)(-1),updatedAt:(0,n.O5)()}),c(s=>s.filter(s=>s.id!==e.id))}catch(e){console.error("Erreur suppression:",e)}},W=async()=>{if(m&&m.id&&m.categoryId){if(""===g.trim())return void alert("Nom du produit requis");if(b<0)return void alert("Prix doit \xeatre positif");if(f<0)return void alert("Stock doit \xeatre positif");if(N<=0)return void alert("Quantit\xe9 > 0 requise");try{var e;let s=(0,n.H9)(i.db,"categories",m.categoryId,"produits",m.id),t=null!=(e=m.stockMinimum)?e:Math.floor(.1*m.maxStock),r=f<=t?"stock-faible":"en-stock",a={nom:g,prix:b,stock:f,quantity:N,unite:w,status:r,published:C,discount:S,updatedAt:new Date};if(A){let e=(0,d.KR)(i.IG,"products/".concat(m.id,"_").concat(A.name));await (0,d.D)(e,A),a.imageUrl=await (0,d.qk)(e)}await (0,n.mZ)(s,a),h(null)}catch(e){console.error("Erreur mise \xe0 jour:",e)}}},B=async()=>{if(m&&m.id&&m.categoryId)try{let e=(0,n.H9)(i.db,"categories",m.categoryId,"produits",m.id);await (0,n.mZ)(e,{discount:null,updatedAt:new Date}),M(null)}catch(e){console.error("Erreur suppression rabais:",e)}},P=e=>{var s;let{product:t,onEdit:l,onDelete:i}=e,[n,d]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),x=t.prix||0,u=t.discount||0,m=u>0?Math.round(x*(100-u)/100):x,h=t.status||"en-stock",g=t.maxStock&&t.stock?t.stock/t.maxStock*100:100;return(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[(0,r.jsxs)("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[u>0&&(0,r.jsx)("div",{className:"absolute top-3 left-3 z-10",children:(0,r.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-3 py-1.5 rounded-lg font-bold shadow-lg flex items-center gap-1.5",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"})}),(0,r.jsxs)("span",{className:"text-sm",children:["-",u,"%"]})]})}),(0,r.jsx)("div",{className:"absolute top-3 right-3 z-10",children:(0,r.jsx)("div",{className:"bg-black/80 text-white px-3 py-1.5 rounded-lg text-xs font-semibold backdrop-blur-sm",children:t.category})}),n?(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",children:(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):(0,r.jsx)("img",{src:t.imageUrl||"/placeholder.jpg",alt:t.nom,className:"w-full h-full object-cover transition-transform duration-500 ".concat(o?"scale-105":"scale-100"),onError:()=>d(!0)}),o&&(0,r.jsxs)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center gap-3 transition-opacity duration-300",children:[(0,r.jsx)("button",{onClick:l,className:"bg-white p-3 rounded-full text-blue-600 hover:bg-blue-50 transition-all hover:scale-110",title:"Modifier",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,r.jsx)("button",{onClick:i,className:"bg-white p-3 rounded-full text-red-600 hover:bg-red-50 transition-all hover:scale-110",title:"Supprimer",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900 truncate",children:t.nom}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("en-stock"===h?"bg-green-500":"stock-faible"===h?"bg-yellow-500":"bg-red-500")}),(0,r.jsx)("span",{className:"text-xs text-gray-600 capitalize",children:"en-stock"===h?"En stock":"stock-faible"===h?"Stock faible":"Rupture"})]})]}),(0,r.jsx)("div",{className:"px-2 py-1 rounded text-xs font-bold ".concat(t.published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.published?"PUBLI\xc9":"MASQU\xc9"})]}),t.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.description}),(0,r.jsx)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-end justify-between",children:[(0,r.jsx)("div",{children:u>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[m.toLocaleString()," FCFA"]}),(0,r.jsxs)("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded font-bold",children:["-",u,"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:[x.toLocaleString()," FCFA"]}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"•"}),(0,r.jsxs)("span",{className:"text-xs text-red-600 font-medium",children:["\xc9conomie: ",(x-m).toLocaleString()," FCFA"]})]})]}):(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:[x.toLocaleString()," FCFA"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["/ ",t.quantity," ",t.unite]})]})}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:"Vendu par"}),(0,r.jsxs)("div",{className:"px-2 py-1 bg-white border rounded text-sm font-medium",children:[t.quantity," ",t.unite]})]})]})}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,r.jsxs)("span",{children:["Stock: ",t.stock," ",t.unite]}),(0,r.jsxs)("span",{className:"font-medium",children:[Math.round(g),"%"]})]}),(0,r.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full rounded-full ".concat(g>20?"bg-green-500":g>5?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(g,100),"%")}})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 border-t pt-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("span",{children:t.createdAt?new Date(1e3*t.createdAt.seconds).toLocaleDateString("fr-FR",{day:"2-digit",month:"short"}):"N/A"})]}),(0,r.jsxs)("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:["ID: ",null==(s=t.id)?void 0:s.substring(0,6),"..."]})]}),(0,r.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,r.jsxs)("button",{onClick:l,className:"flex-1 bg-blue-600 text-white py-2.5 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Modifier"]}),(0,r.jsx)("button",{onClick:i,className:"px-3 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"Supprimer",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})};return x?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"h-7 w-48 bg-gray-200 rounded-lg animate-pulse"}),(0,r.jsx)("div",{className:"h-4 w-32 bg-gray-100 rounded animate-pulse mt-2"})]}),(0,r.jsx)("div",{className:"h-10 w-24 bg-gray-200 rounded-lg animate-pulse"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl border overflow-hidden",children:[(0,r.jsx)("div",{className:"h-48 bg-gray-200 animate-pulse"}),(0,r.jsxs)("div",{className:"p-5 space-y-3",children:[(0,r.jsx)("div",{className:"h-5 w-3/4 bg-gray-200 rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-4 w-1/2 bg-gray-100 rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-10 w-full bg-gray-200 rounded-lg animate-pulse mt-3"})]})]},e))})]}):0===H.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center bg-gray-100 rounded-full",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun produit"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Modifiez vos crit\xe8res de recherche"})]}):"list"===l?(0,r.jsx)("div",{className:"bg-white rounded-xl border overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"Produit"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"Prix"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"Stock"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"Statut"}),(0,r.jsx)("th",{className:"text-left p-4 font-medium text-gray-700",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y",children:H.map(e=>{let s=e.discount||0,t=e.prix||0,a=s>0?Math.round(t*(100-s)/100):t;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("img",{src:e.imageUrl||"/placeholder.jpg",alt:e.nom,className:"w-12 h-12 rounded-lg object-cover"}),s>0&&(0,r.jsxs)("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full font-bold",children:["-",s,"%"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.nom}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.category," • ",e.quantity," ",e.unite]})]})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"font-semibold text-gray-900",children:[a.toLocaleString()," FCFA"]}),s>0&&(0,r.jsxs)("div",{className:"text-sm text-gray-500 line-through",children:[t.toLocaleString()," FCFA"]})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("en-stock"===e.status?"bg-green-500":"bg-red-500")}),(0,r.jsxs)("span",{children:[e.stock," ",e.unite]})]})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(e.published?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.published?"Publi\xe9":"Masqu\xe9"})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>F(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Modifier",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,r.jsx)("button",{onClick:()=>z(e),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Supprimer",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)})})]})}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[H.length," produit(s) trouv\xe9(s)"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:H.map(e=>(0,r.jsx)(P,{product:e,onEdit:()=>F(e),onDelete:()=>z(e)},e.id))}),m&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-blue-100 text-blue-600 rounded-lg",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Modifier produit"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:m.nom})]})]}),(0,r.jsx)("button",{onClick:()=>h(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom *"}),(0,r.jsx)("input",{type:"text",value:g,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nom du produit"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix (FCFA) *"}),(0,r.jsx)("input",{type:"number",value:isNaN(b)?"":b,onChange:e=>j(""===e.target.value?NaN:parseFloat(e.target.value)),min:0,step:.01,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock *"}),(0,r.jsx)("input",{type:"number",value:isNaN(f)?"":f,onChange:e=>v(""===e.target.value?NaN:parseInt(e.target.value,10)),min:0,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantit\xe9 vente *"}),(0,r.jsx)("input",{type:"number",value:isNaN(N)?"":N,onChange:e=>y(""===e.target.value?NaN:parseInt(e.target.value,10)),min:1,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit\xe9"}),(0,r.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"S\xe9lectionner"}),["pi\xe8ce","kg","g","L","mL","paquet","bo\xeete","sachet","bouteille","carton","lot"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promotion"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("select",{value:null!==S?S.toString():"",onChange:e=>M(""===e.target.value?null:parseInt(e.target.value,10)),className:"flex-1 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Aucune promotion"}),[5,10,15,20,25,30,40,50].map(e=>(0,r.jsxs)("option",{value:e,children:["-",e,"%"]},e))]}),null!==S&&(0,r.jsx)("button",{onClick:B,className:"px-6 py-3 bg-red-100 text-red-700 rounded-lg hover:bg-red-200",children:"Supprimer"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouvelle image"}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 cursor-pointer",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:e=>I(e.target.files?e.target.files[0]:null),className:"hidden",id:"image-upload"}),(0,r.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[(0,r.jsx)("svg",{className:"w-8 h-8 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Cliquez pour t\xe9l\xe9charger"}),A&&(0,r.jsx)("p",{className:"text-sm text-blue-600 mt-1",children:A.name})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibilit\xe9"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",checked:C,onChange:()=>L(!0),className:"w-4 h-4 text-blue-600"}),(0,r.jsx)("span",{children:"Publi\xe9"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,r.jsx)("input",{type:"radio",checked:!C,onChange:()=>L(!1),className:"w-4 h-4 text-blue-600"}),(0,r.jsx)("span",{children:"Masqu\xe9"})]})]})]})]})}),(0,r.jsxs)("div",{className:"flex gap-3 p-6 border-t bg-gray-50",children:[(0,r.jsx)("button",{onClick:()=>h(null),className:"flex-1 px-6 py-3 border text-gray-700 rounded-lg hover:bg-gray-100",children:"Annuler"}),(0,r.jsx)("button",{onClick:W,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Enregistrer"})]})]})})]})}var c=t(6874),x=t.n(c),u=t(3915);(0,u.Dk)().length||(0,u.Wp)({apiKey:"AIzaSyAYRMKz-rdcDJ9_wSC4GPJ5Nr9JGHNf98s",authDomain:"ag02-9e907.firebaseapp.com",projectId:"ag02-9e907",storageBucket:"ag02-9e907.firebasestorage.app",messagingSenderId:"646527347928",appId:"1:646527347928:web:dca6972379e7f72027bbad",measurementId:"G-8MX1LYCXS6"});let m=(0,n.aU)();function h(e){let{searchTerm:s,setSearchTerm:t,selectedCategory:l,setSelectedCategory:i}=e,[d,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!s.trim())return void o([]);let e=(0,n.P)((0,n.Cs)(m,"produits"),(0,n._M)("nom",">=",s),(0,n._M)("nom","<=",s+"")),t=(0,n.aQ)(e,e=>{o(e.docs.map(e=>({id:e.id,...e.data()}))),u(!0)});return()=>t()},[s]),(0,r.jsx)("header",{className:"bg-white rounded-lg shadow-sm border-b px-6 py-4 relative",children:(0,r.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 max-w-md relative",children:[(0,r.jsx)("input",{type:"text",value:s,onChange:e=>t(e.target.value),onFocus:()=>s&&u(!0),placeholder:"Rechercher un produit...",className:"border border-gray-300 rounded-lg px-4 py-2 w-full focus:outline-none focus:ring focus:ring-green-200"}),c&&d.length>0&&(0,r.jsx)("ul",{className:"absolute left-0 right-0 bg-white border border-gray-200 rounded-lg mt-1 shadow-lg z-50 max-h-60 overflow-y-auto",children:d.map(e=>(0,r.jsxs)("li",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{t(e.nom),u(!1)},children:[e.nom," ",e.prix," ",e.unite]},e.id))})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Cat\xe9gorie"}),(0,r.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring focus:ring-green-200",children:[(0,r.jsx)("option",{value:"all",children:"Toutes les cat\xe9gories"}),Object.entries({fruits:"Fruits",legumes:"L\xe9gumes",tubercules:"Tubercules",cereales:"C\xe9r\xe9ales",poissons:"Poissons",viandes:"Viandes",boissons:"Boissons",confitures:"Confitures"}).map(e=>{let[s,t]=e;return(0,r.jsx)("option",{value:s,children:t},s)})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)(x(),{href:"/ajouter-produit",children:(0,r.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 font-medium whitespace-nowrap",children:"Nouveau Produit"})})})]})})}function g(){let[e,s]=(0,a.useState)(""),[t,i]=(0,a.useState)("all");return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)(l.A,{}),(0,r.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:(0,r.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Gestion des Produits"}),(0,r.jsx)(h,{searchTerm:e,setSearchTerm:s,selectedCategory:t,setSelectedCategory:i}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(o,{searchTerm:e,selectedCategory:t})})]})})})]})}},8915:(e,s,t)=>{"use strict";t.d(s,{IG:()=>o,db:()=>d,j2:()=>c});var r=t(3915),a=t(5317),l=t(7505),i=t(5404);let n=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyAYRMKz-rdcDJ9_wSC4GPJ5Nr9JGHNf98s",authDomain:"ag02-9e907.firebaseapp.com",projectId:"ag02-9e907",storageBucket:"ag02-9e907.firebasestorage.app",messagingSenderId:"646527347928",appId:"1:646527347928:web:dca6972379e7f72027bbad",measurementId:"G-8MX1LYCXS6"}),d=(0,a.aU)(n),o=(0,l.c7)(n),c=(0,i.xI)(n)}},e=>{var s=s=>e(e.s=s);e.O(0,[135,965,29,441,684,358],()=>s(8175)),_N_E=e.O()}]);